<!-- Página de inicio (home) -->

<ion-header>
  <ion-toolbar color="primary" style="--ion-border-color: transparent; padding: 10px;">
    <div style="display: flex; align-items: center; justify-content: left;">
      <img src="assets/icon/logoms.svg" style="width: 65%; height: auto; object-fit: cover; ">
    </div>
    <ion-buttons slot="end">
      <ion-icon name="notifications-outline" style="font-size: 28px; margin-right: 15px; color: black;" routerLink="/notificaciones"></ion-icon>
      <ion-icon name="cart-outline" style="font-size: 28px; margin-right: 15px; color: black;"
        routerLink="/cart"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>


<ion-content [fullscreen]="true">

  <div style="display: flex; align-items: center;">
    <ion-searchbar 
      [(ngModel)]="searchText" 
      animated="true" 
      placeholder="Buscar Producto" 
      style="flex-grow: 1; --border-radius: 20px;" 
      (ionInput)="filterProducts()"> <!-- Se llama al método filterProducts cuando se realiza una búsqueda -->
    </ion-searchbar>
  </div>

  <swiper-container 
  [slidesPerView]="1" 
  [spaceBetween]="20" 
  [autoplay]="{ delay: 30000, disableOnInteraction: false }"
  [pagination]="{ clickable: true }" loop="true">

    <swiper-slide>
      <ion-card style="border-radius: 20px;">
        <ion-img src="assets/images/imagen1.png" alt="Imagen 1"></ion-img>
      </ion-card>
    </swiper-slide>

    <swiper-slide>
      <ion-card style="border-radius: 20px;">
        <ion-img src="assets/images/imgBackSchool.png" alt="Imagen 2"></ion-img>
      </ion-card>
    </swiper-slide>

    <swiper-slide>
      <ion-card style="border-radius: 20px;">
        <ion-img src="assets/images/imgBackSchoolSale.png" alt="Imagen 3"></ion-img>
      </ion-card>
    </swiper-slide>

    <swiper-slide>
      <ion-card style="border-radius: 20px;">
        <ion-img src="assets/images/imgCiencia.png" alt="Imagen 3"></ion-img>
      </ion-card>
    </swiper-slide>

    <swiper-slide>
      <ion-card style="border-radius: 20px;">
        <ion-img src="assets/images/imgCrismas.png" alt="Imagen 3"></ion-img>
      </ion-card>
    </swiper-slide>
  </swiper-container>

  <!-- Categorias -->

  <ion-item>
    <div class="chip-container">
      <ion-scroll scrollX="true" class="chip-scroll">
        <app-item-chip *ngFor="let chip of chips" 
        [chipUrl]="chip.chipUrl" 
        [categoria]="chip.categoria"
        [chipColor]="chip.color" 
        [textColor]="chip.textColor">
        </app-item-chip>

      </ion-scroll>
    </div>
  </ion-item>



  <!-- Cards de productos -->
  <div class="product-container">
    <app-item-product *ngFor="let product of products" 
    [imageUrl]="product.imageUrl" 
    [nombre]="product.nombre"
    [precio]="product.precio" 
    [category]="product.category"
    (click)="navigateToDetail(product)">
    </app-item-product>
  </div>


  <!--Cards de promoción-->
  <div class="card-container">
    <ion-card>
      <ion-img src="assets/images/imagenCard1.png" alt="Imagen de ejemplo"></ion-img>
    </ion-card>
    <ion-card>
      <ion-img src="assets/images/imagenCard2.png" alt="Imagen de ejemplo"></ion-img>
    </ion-card>
    <ion-card>
      <ion-img src="assets/images/imagenCard3.png" alt="Imagen de ejemplo"></ion-img>
    </ion-card>
  </div>


</ion-content>

<ion-tab-bar slot="bottom" id="footer">
  <ion-tab-button tab="home" routerLink="/home">
    <img src="assets/icon/home.svg" alt="Inicio">
    <ion-label>home</ion-label>
  </ion-tab-button>
  <ion-tab-button tab="categorias" routerLink="/categorias">
    <img src="assets/icon/category.svg" alt="Categorias">
    <ion-label>Categorias</ion-label>
  </ion-tab-button>
  <ion-tab-button tab="favoritos" routerLink="/favoritos">
    <img src="assets/icon/heart.svg" alt="Favoritos">
    <ion-label>Favoritos</ion-label>
  </ion-tab-button>
  <ion-tab-button tab="perfil" routerLink="/perfil">
    <img src="assets/icon/user.svg" alt="Perfil">
    <ion-label>Perfil</ion-label>
  </ion-tab-button>
</ion-tab-bar>